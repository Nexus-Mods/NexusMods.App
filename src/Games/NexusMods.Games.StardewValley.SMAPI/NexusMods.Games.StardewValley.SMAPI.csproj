<Project Sdk="Microsoft.NET.Sdk">

    <ItemGroup>
        <Compile Include="..\..\..\extern\SMAPI\src\SMAPI.Toolkit\**\*.cs">
            <Link>Toolkit\%(RecursiveDir)\%(FileName)%(Extension)</Link>
            <Visible>false</Visible>
        </Compile>

        <Compile Include="..\..\..\extern\SMAPI\src\SMAPI.Toolkit.CoreInterfaces\**\*.cs">
            <Link>CoreInterfaces\%(RecursiveDir)\%(FileName)%(Extension)</Link>
            <Visible>false</Visible>
        </Compile>
    </ItemGroup>

    <ItemGroup>
        <PackageReference Include="HtmlAgilityPack" VersionOverride="1.11.59" />
        <PackageReference Include="Newtonsoft.Json" VersionOverride="13.0.3" />
        <PackageReference Include="Pathoschild.Http.FluentClient" VersionOverride="4.3.0" />
    </ItemGroup>

    <Target Name="ValidateSubmodule" AfterTargets="BeforeBuild">
        <Error Condition="!Exists('..\..\..\extern\SMAPI\src')" Text="Missing SMAPI submodule! Make sure to run 'git submodule update --init --recursive'" />
    </Target>

</Project>
